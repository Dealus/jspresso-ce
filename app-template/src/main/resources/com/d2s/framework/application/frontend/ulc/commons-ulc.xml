<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<!--
  ULC root application context for the D2S framework.
-->
<beans default-lazy-init="true">

  <!--
    The implementation used as ListSelectionModelBinder.
  -->
  <bean id="listSelectionModelBinder" class="com.d2s.framework.binding.ulc.DefaultListSelectionModelBinder"></bean>

  <!--
    The implementation used as TreeSelectionModelBinder.
  -->
  <bean id="treeSelectionModelBinder" class="com.d2s.framework.binding.ulc.DefaultTreeSelectionModelBinder"></bean>

  <!--
    Root action beans.
  -->
  <bean id="abstractFrontAction" abstract="true"
    class="com.d2s.framework.application.frontend.action.AbstractFrontendAction">
    <property name="viewFactory" ref="viewFactory" />
    <property name="iconFactory" ref="iconFactory" />
    <property name="mvcBinder" ref="mvcBinder" />
  </bean>

  <bean id="lovFindFrontAction" parent="abstractFrontAction"
    class="com.d2s.framework.application.frontend.action.std.FindAction">
    <property name="wrappedAction" ref="queryEntitiesBackAction" />
  </bean>

  <bean id="lovOkFrontAction" parent="abstractFrontAction"
    class="com.d2s.framework.application.frontend.action.ulc.lov.OkLovAction">
  </bean>

  <bean id="cancelDialogFrontAction" parent="abstractFrontAction"
    class="com.d2s.framework.application.frontend.action.ulc.std.DialogCancelAction">
  </bean>

  <!--
    The implementation used as view factory.
  -->
  <bean id="iconFactory" class="com.d2s.framework.view.ulc.UlcIconFactory" />

  <bean id="actionFactory" parent="abstractActionFactory" class="com.d2s.framework.view.ulc.UlcActionFactory">
    <property name="iconFactory" ref="iconFactory" />
  </bean>

  <bean id="abstractModalDialogAction" abstract="true" parent="abstractFrontAction"
    class="com.d2s.framework.application.frontend.action.ulc.flow.ModalDialogAction">
    <property name="actionFactory" ref="actionFactory" />
  </bean>

  <bean id="lovAction" parent="abstractModalDialogAction"
    class="com.d2s.framework.application.frontend.action.ulc.lov.LovAction">
    <property name="lovViewFactory" ref="lovViewFactory" />
    <property name="createQueryEntityAction" ref="createQueryEntityAction" />
    <property name="okAction" ref="lovOkFrontAction" />
    <property name="cancelAction" ref="cancelDialogFrontAction" />
    <property name="findAction" ref="lovFindFrontAction" />
  </bean>

  <bean id="viewFactory" parent="abstractViewFactory" class="com.d2s.framework.view.ulc.DefaultUlcViewFactory">
    <property name="listSelectionModelBinder" ref="listSelectionModelBinder" />
    <property name="treeSelectionModelBinder" ref="treeSelectionModelBinder" />
    <property name="iconFactory" ref="iconFactory" />
    <property name="actionFactory" ref="actionFactory" />
    <property name="lovAction" ref="lovAction" />
  </bean>

  <bean id="lovViewFactory" class="com.d2s.framework.view.BasicLovViewFactory">
    <property name="viewFactory" ref="viewFactory" />
  </bean>

  <!--
    The controllers.
  -->
  <bean id="abstractController" abstract="true" parent="abstractFrontController"
    class="com.d2s.framework.application.frontend.controller.ulc.DefaultUlcController">
    <property name="viewFactory" ref="viewFactory" />
    <property name="iconFactory" ref="iconFactory" />
  </bean>

</beans>

