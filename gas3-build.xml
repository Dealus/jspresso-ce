<?xml version="1.0"?>

<project name="jspresso-framework-as3">

  <path id="project.classpath">
    <dirset dir="${basedir}">
      <include name="**/target/classes" />
    </dirset>
  </path>

  <target name="clean">
    <delete>
      <fileset dir="src/main/as3">
        <include name="**/*.as"/> 
        <exclude name="**/DefaultFlexViewFactory.as"/>
      </fileset>
    </delete>
  </target>

  <target name="generate.as3" depends="clean">
    <gas3 outputdir="src/main/as3">
      <classpath refid="project.classpath" />
      <fileset dir="util/target/classes">
        <include name="org/jspresso/framework/util/IIconImageURLProvider.class" />
        <include name="org/jspresso/framework/util/descriptor/*.class" />
      </fileset>
      <fileset dir="model/target/classes">
        <include name="org/jspresso/framework/model/descriptor/**/*Descriptor.class" />
        <include name="org/jspresso/framework/model/descriptor/EDateType.class" />
      </fileset>
      <fileset dir="view/target/classes">
        <include name="**/*.class" />
        <exclude name="**/*Helper.class" />
        <exclude name="**/*Exception.class" />
      </fileset>
      <fileset dir="binding/target/classes">
        <include name="**/I*Connector.class" />
        <include name="**/basic/Basic*Connector.class" />
        <exclude name="**/model/**/*.class" />
      </fileset>
    </gas3>
  </target>
</project>